# MongoDB Configuration - will be overridden by TestContainer
spring.data.mongodb.uri=mongodb://localhost:27017/test
spring.data.mongodb.auto-index-creation=true

# CRITICAL: Exclude embedded MongoDB auto-configuration
#spring.autoconfigure.exclude=de.flapdoodle.embed.mongo.spring.autoconfigure.EmbeddedMongoAutoConfiguration

# Disable discovery and cloud features for tests
eureka.client.enabled=false
spring.cloud.discovery.enabled=false
spring.cloud.config.enabled=false
spring.cloud.service-registry.auto-registration.enabled=false
spring.cloud.features.enabled=false

# Server Configuration
server.port=0

# Logging
logging.level.com.example.appointmentservice=DEBUG
logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Disable Actuator auto-config in tests
management.endpoints.enabled-by-default=false